meta {
  name: Update Config
  type: http
  seq: 2
}

put {
  url: http://127.0.0.1:8001/api/v1/use-cases/{{firstUseCaseId}}/rollout-strategy
  body: json
  auth: bearer
}

auth:bearer {
  token: {{accessToken}}
}

body:json {
  {
    "configuration": {
      "warmup": {
        "intervalMins": 5,
        "intervalSessTeq": null,
        "goals": [
          {
            "flowId": "169f7c75-7911-4929-be65-700087ef06fd",
            "finalServePct": 40
          },
          {
            "flowId": "3a99ca51-a292-4b52-b4dc-a839a99f1007",
            "finalServePct": 30
          },
          {
            "flowId": "22b3ee72-257c-499d-be89-49b840187c06",
            "finalServePct": 30
          }
        ]
      },
      "escape": {
        "rules": [
          {
            "flowId": "3a99ca51-a292-4b52-b4dc-a839a99f1007",
            "minFeedback": 5,
            "lowerScore": 1.5,
            "rollback": [
              {
                "flowId": "169f7c75-7911-4929-be65-700087ef06fd",
                "finalServePct": 100
              }
            ]
          },
          {
            "flowId": "22b3ee72-257c-499d-be89-49b840187c06",
            "minFeedback": 5,
            "lowerScore": 1.5,
            "rollback": [
              {
                "flowId": "169f7c75-7911-4929-be65-700087ef06fd",
                "finalServePct": 100
              }
            ]
          }
        ]
      },
      "adaptive": {
        "minFeedback": 5,
        "maxStepPct": 10,
        "intervalMins": 2
      }
    }
  }
}

settings {
  encodeUrl: true
}
